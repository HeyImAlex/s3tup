---
- bucket: testbucket
  region: us-west-1 
  canned_acl: public-read
  website: |
    <WebsiteConfiguration xmlns='http://s3.amazonaws.com/doc/2006-03-01/'>
    <IndexDocument>
        <Suffix>index.html</Suffix>
    </IndexDocument>
    <ErrorDocument>
        <Key>error.html</Key>
    </ErrorDocument>
    </WebsiteConfiguration>
  rsync:
    src: some/folder
    delete: true
    ignore_patterns: ['.*']
  redirects:
    - ['redirect.key', 'http://www.example.com']
  key_config:
    - patterns: ['*']
      canned_acl: public-read
      reduced_redundancy: true
    - patterns: ['assets/*']
      cache_control: 'max-age=32850000'
    - patterns: ['*.js', '*.css', '*.html', '*.xml']
      regexes: ['^[^.]+$']
      content_encoding: 'gzip'
    - patterns: ['*.html']
      regexes: ['^[^.]+$']
      content_type: 'text/html'
      cache_control: 'max-age=3600, must-revalidate'